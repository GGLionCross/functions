(self["webpackChunkfunctions"]=self["webpackChunkfunctions"]||[]).push([[506],{8506:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>Z});var n=t(3673);const o={class:"col-grow column q-pa-md"},s={class:"row justify-end q-px-md q-pb-md"},l=(0,n.Uk)("Upload");function r(e,a,t,r,c,u){const i=(0,n.up)("images-viewer"),m=(0,n.up)("q-icon"),p=(0,n.up)("q-file"),d=(0,n.up)("q-btn"),g=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(g,{class:"column justify-between"},{default:(0,n.w5)((()=>[(0,n.Wm)("div",o,[(0,n.Wm)(i,{class:"col-grow"})]),(0,n.Wm)("div",s,[(0,n.Wm)(p,{modelValue:e.images,"onUpdate:modelValue":a[1]||(a[1]=a=>e.images=a),label:"Images","label-color":"primary",dark:"",dense:"",multiple:""},{append:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"attachment",color:"primary"})])),_:1},8,["modelValue"]),(0,n.Wm)("div",null,[(0,n.Wm)(d,{color:"primary",onClick:e.upload},{default:(0,n.w5)((()=>[l])),_:1},8,["onClick"])])])])),_:1})}t(71);const c={class:"row q-pa-md"};function u(e,a,t,o,s,l){const r=(0,n.up)("q-img"),u=(0,n.up)("q-scroll-area");return(0,n.wg)(),(0,n.j4)(u,{class:"images-viewer column"},{default:(0,n.w5)((()=>[(0,n.Wm)("div",c,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.images,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.name,alt:e.name,title:e.name,src:e.url,class:"col-3","spinner-color":"white"},null,8,["alt","title","src"])))),128))])])),_:1})}var i=t(7874),m=t(9582);const p=(0,n.aZ)({setup(){const e=(0,i.oR)(),a=(0,m.tv)(),t=(0,n.Fl)((()=>e.getters.getHostedImages));function o(e){Object.values(e).forEach((e=>{a.removeRoute(e.name)}))}function s(e){Object.values(e).forEach((e=>{a.addRoute("image-hosting",{path:`/${e.name}`,name:e.name,redirect:e.url})}))}async function l(e,t){await o(t),await s(e),console.error(a.getRoutes())}return(0,n.YP)(t,l),{images:t}}});var d=t(7704),g=t(4027),f=t(7518),w=t.n(f);p.render=u;const v=p;w()(p,"components",{QScrollArea:d.Z,QImg:g.Z});var h=t(1959);const b=(0,n.aZ)({components:{ImagesViewer:v},setup(){const e=(0,i.oR)(),a=(0,h.iH)(null);function t(){let t=e.getters.getCurrentUser.userId;for(let n of a.value)e.dispatch("storageUpload",{path:`image-hosting/${t}/${n.name}`,file:n})}return(0,n.bv)((()=>e.dispatch("retrieveHostedImages"))),{images:a,upload:t}}});var q=t(4379),k=t(6842),j=t(4554),W=t(3351);b.render=r;const Z=b;w()(b,"components",{QPage:q.Z,QFile:k.Z,QIcon:j.Z,QBtn:W.Z})}}]);